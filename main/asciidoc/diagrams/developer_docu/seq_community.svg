<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1071px" preserveAspectRatio="none" style="width:770px;height:1071px;background:#FFFFFF;" version="1.1" viewBox="0 0 770 1071" width="770px" zoomAndPan="magnify"><defs><filter height="300%" id="f14gy15hj99zhz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="960.1172" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="229.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="330.4922"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="288.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="388.7578"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="706.0859"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="246.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="764.3516"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="113.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="100.5625"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="417.8906"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="129.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="793.4844"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="243.0938"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="618.6875"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="952.1484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="40.2969" y2="1028.4141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="310.5" x2="310.5" y1="40.2969" y2="1028.4141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="517" x2="517" y1="40.2969" y2="1028.4141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="727" x2="727" y1="40.2969" y2="1028.4141"/><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="45" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="12" y="24.9951">User</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="45" x="5" y="1027.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="12" y="1047.4092">User</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="170" x="223.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="230.5" y="24.9951">CommunityController</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="170" x="223.5" y="1027.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="230.5" y="1047.4092">CommunityController</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="191" x="420" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="427" y="24.9951">CommunityManagement</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="191" x="420" y="1027.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="427" y="1047.4092">CommunityManagement</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="695" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="702" y="24.9951">Spring</text><rect fill="#FEFECE" filter="url(#f14gy15hj99zhz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="695" y="1027.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="702" y="1047.4092">Spring</text><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="960.1172" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="229.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="330.4922"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="288.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="388.7578"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="706.0859"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="246.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="305.5" y="764.3516"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="113.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="100.5625"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="171.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="417.8906"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="129.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="512.5" y="793.4844"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="243.0938"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="618.6875"/><rect fill="#FFFFFF" filter="url(#f14gy15hj99zhz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="722.5" y="952.1484"/><polygon fill="#A80036" points="293.5,67.4297,303.5,71.4297,293.5,75.4297,297.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="299.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="41.5" y="66.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="54.5" y="66.3638">community()</text><polygon fill="#A80036" points="500.5,96.5625,510.5,100.5625,500.5,104.5625,504.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="506.5" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="322.5" y="95.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="335.5" y="95.4966">get communities</text><line style="stroke:#A80036;stroke-width:1.0;" x1="522.5" x2="564.5" y1="129.6953" y2="129.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="564.5" x2="564.5" y1="129.6953" y2="142.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523.5" x2="564.5" y1="142.6953" y2="142.6953"/><polygon fill="#A80036" points="533.5,138.6953,523.5,142.6953,533.5,146.6953,529.5,142.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="529.5" y="124.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="541.5" y="124.6294">findPersonalCommunities()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="522.5" x2="564.5" y1="171.8281" y2="171.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="564.5" x2="564.5" y1="171.8281" y2="184.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523.5" x2="564.5" y1="184.8281" y2="184.8281"/><polygon fill="#A80036" points="533.5,180.8281,523.5,184.8281,533.5,188.8281,529.5,184.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="529.5" y="166.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="542.5" y="166.7622">findJoinableCommunities()</text><polygon fill="#A80036" points="326.5,209.9609,316.5,213.9609,326.5,217.9609,322.5,213.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="516.5" y1="213.9609" y2="213.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="332.5" y="208.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="349.5" y="208.895"/><polygon fill="#A80036" points="710.5,239.0938,720.5,243.0938,710.5,247.0938,714.5,243.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="716.5" y1="243.0938" y2="243.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="322.5" y="238.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="335.5" y="238.0278">add communities to Model</text><polygon fill="#A80036" points="326.5,268.2266,316.5,272.2266,326.5,276.2266,322.5,272.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="726.5" y1="272.2266" y2="272.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="332.5" y="267.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="349.5" y="267.1606"/><polygon fill="#A80036" points="45.5,297.3594,35.5,301.3594,45.5,305.3594,41.5,301.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39.5" x2="309.5" y1="301.3594" y2="301.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="51.5" y="296.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="64.5" y="296.2935">Template: community.html</text><polygon fill="#A80036" points="293.5,326.4922,303.5,330.4922,293.5,334.4922,297.5,330.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="299.5" y1="330.4922" y2="330.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="41.5" y="325.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="54.5" y="325.4263">create()</text><polygon fill="#A80036" points="45.5,355.625,35.5,359.625,45.5,363.625,41.5,359.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39.5" x2="309.5" y1="359.625" y2="359.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="51.5" y="354.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="74.5" y="354.5591">Template: community_create.html</text><polygon fill="#A80036" points="293.5,384.7578,303.5,388.7578,293.5,392.7578,297.5,388.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="299.5" y1="388.7578" y2="388.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="41.5" y="383.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="63.5" y="383.6919">createNew()</text><polygon fill="#A80036" points="500.5,413.8906,510.5,417.8906,500.5,421.8906,504.5,417.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="506.5" y1="417.8906" y2="417.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="412.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="344.5" y="412.8247">validate CreateForm</text><polygon fill="#A80036" points="326.5,443.0234,316.5,447.0234,326.5,451.0234,322.5,447.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="511.5" y1="447.0234" y2="447.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="332.5" y="441.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="357.5" y="441.9575"/><polygon fill="#A80036" points="500.5,472.1563,510.5,476.1563,500.5,480.1563,504.5,476.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="506.5" y1="476.1563" y2="476.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="471.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="344.5" y="471.0903">create new Community</text><line style="stroke:#A80036;stroke-width:1.0;" x1="522.5" x2="564.5" y1="505.2891" y2="505.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="564.5" x2="564.5" y1="505.2891" y2="518.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523.5" x2="564.5" y1="518.2891" y2="518.2891"/><polygon fill="#A80036" points="533.5,514.2891,523.5,518.2891,533.5,522.2891,529.5,518.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="529.5" y="500.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="551.5" y="500.2231">createCommunity()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="522.5" x2="564.5" y1="547.4219" y2="547.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="564.5" x2="564.5" y1="547.4219" y2="560.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523.5" x2="564.5" y1="560.4219" y2="560.4219"/><polygon fill="#A80036" points="533.5,556.4219,523.5,560.4219,533.5,564.4219,529.5,560.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="529.5" y="542.356">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="551.5" y="542.356">joinCommunity()</text><polygon fill="#A80036" points="326.5,585.5547,316.5,589.5547,326.5,593.5547,322.5,589.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="516.5" y1="589.5547" y2="589.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="332.5" y="584.4888">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="358.5" y="584.4888"/><polygon fill="#A80036" points="710.5,614.6875,720.5,618.6875,710.5,622.6875,714.5,618.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="716.5" y1="618.6875" y2="618.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="613.6216">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="344.5" y="613.6216">add communities to Model</text><polygon fill="#A80036" points="326.5,643.8203,316.5,647.8203,326.5,651.8203,322.5,647.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="726.5" y1="647.8203" y2="647.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="332.5" y="642.7544">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="358.5" y="642.7544"/><polygon fill="#A80036" points="45.5,672.9531,35.5,676.9531,45.5,680.9531,41.5,676.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39.5" x2="309.5" y1="676.9531" y2="676.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="51.5" y="671.8872">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="74.5" y="671.8872">Template: community.html</text><polygon fill="#A80036" points="293.5,702.0859,303.5,706.0859,293.5,710.0859,297.5,706.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="299.5" y1="706.0859" y2="706.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="41.5" y="701.02">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="63.5" y="701.02">join()</text><polygon fill="#A80036" points="45.5,731.2188,35.5,735.2188,45.5,739.2188,41.5,735.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39.5" x2="309.5" y1="735.2188" y2="735.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="51.5" y="730.1528">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="73.5" y="730.1528">Template: community_join.html</text><polygon fill="#A80036" points="293.5,760.3516,303.5,764.3516,293.5,768.3516,297.5,764.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="299.5" y1="764.3516" y2="764.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="41.5" y="759.2856">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="62.5" y="759.2856">join()</text><polygon fill="#A80036" points="500.5,789.4844,510.5,793.4844,500.5,797.4844,504.5,793.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="506.5" y1="793.4844" y2="793.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="788.4185">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="344.5" y="788.4185">validate input</text><polygon fill="#A80036" points="326.5,818.6172,316.5,822.6172,326.5,826.6172,322.5,822.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="511.5" y1="822.6172" y2="822.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="332.5" y="817.5513">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="358.5" y="817.5513"/><polygon fill="#A80036" points="500.5,847.75,510.5,851.75,500.5,855.75,504.5,851.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="506.5" y1="851.75" y2="851.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="846.6841">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="344.5" y="846.6841">join Community</text><line style="stroke:#A80036;stroke-width:1.0;" x1="522.5" x2="564.5" y1="880.8828" y2="880.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="564.5" x2="564.5" y1="880.8828" y2="893.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523.5" x2="564.5" y1="893.8828" y2="893.8828"/><polygon fill="#A80036" points="533.5,889.8828,523.5,893.8828,533.5,897.8828,529.5,893.8828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="529.5" y="875.8169">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="551.5" y="875.8169">joinCommunity()</text><polygon fill="#A80036" points="326.5,919.0156,316.5,923.0156,326.5,927.0156,322.5,923.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="516.5" y1="923.0156" y2="923.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="332.5" y="917.9497">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="358.5" y="917.9497"/><polygon fill="#A80036" points="710.5,948.1484,720.5,952.1484,710.5,956.1484,714.5,952.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315.5" x2="716.5" y1="952.1484" y2="952.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="322.5" y="947.0825">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="344.5" y="947.0825">add communities to Model</text><polygon fill="#A80036" points="326.5,977.2813,316.5,981.2813,326.5,985.2813,322.5,981.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320.5" x2="726.5" y1="981.2813" y2="981.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="332.5" y="976.2153">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="358.5" y="976.2153"/><polygon fill="#A80036" points="40.5,1006.4141,30.5,1010.4141,40.5,1014.4141,36.5,1010.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="34.5" x2="309.5" y1="1010.4141" y2="1010.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="46.5" y="1005.3481">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="67.5" y="1005.3481">Template: community.html</text><!--MD5=[5ba03e19974f5ae17ed90f485933ef3f]
@startuml
participant User order 1
participant CommunityController order 2
participant CommunityManagement order 3
participant Spring order 4

autonumber

activate User

User -> CommunityController : community()
activate CommunityController

CommunityController -> CommunityManagement : get communities
activate CommunityManagement
CommunityManagement -> CommunityManagement : findPersonalCommunities()
CommunityManagement -> CommunityManagement : findJoinableCommunities()
CommunityManagement - -> CommunityController
deactivate CommunityManagement

CommunityController -> Spring: add communities to Model
activate Spring
Spring - -> CommunityController
deactivate Spring 

CommunityController - -> User: Template: community.html
deactivate CommunityController



User -> CommunityController : create()
activate CommunityController
CommunityController - -> User: Template: community_create.html
deactivate CommunityController

User -> CommunityController : createNew()
activate CommunityController

CommunityController -> CommunityManagement: validate CreateForm
activate CommunityManagement
CommunityManagement - -> CommunityController

CommunityController -> CommunityManagement : create new Community
CommunityManagement -> CommunityManagement : createCommunity()
CommunityManagement -> CommunityManagement : joinCommunity()
CommunityManagement - -> CommunityController
deactivate CommunityManagement

CommunityController -> Spring: add communities to Model
activate Spring
Spring - -> CommunityController 
deactivate Spring

CommunityController - -> User: Template: community.html
deactivate CommunityController



User -> CommunityController : join()
activate CommunityController
CommunityController - -> User: Template: community_join.html
deactivate CommunityController

User -> CommunityController : join()
activate CommunityController

CommunityController -> CommunityManagement: validate input
activate CommunityManagement
CommunityManagement - -> CommunityController

CommunityController -> CommunityManagement : join Community
CommunityManagement -> CommunityManagement : joinCommunity()
CommunityManagement - -> CommunityController
deactivate CommunityManagement

CommunityController -> Spring: add communities to Model
activate Spring
Spring - -> CommunityController 
deactivate Spring

CommunityController - -> User: Template: community.html
deactivate CommunityController

deactivate User
@enduml

PlantUML version 1.2022.1beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>